<!-- sales.hbs -->
<!-- Source from CS340 Starter Program: https://github.com/osu-cs340-ecampus/nodejs-starter-app/tree/main/Step%205%20-%20Adding%20New%20Data -->
<!-- Updated to our specific naming of objects and values. The rest of the file is from the link above. -->
<header>
<h1>Sales</h1>
<p>A list of all the current Sales in the Database are listed below </p>
</header>
<main>
    <section>
<nav>
    <a href="/" class="button-link">Home</body></a>
    <a href="/golfers" class="button-link">Golfers</body></a>
    <a href="/employees" class="button-link">Employees</body></a>
    <a href="/sales" class="button-link">Sales</body></a>
    <a href="/tee_times" class="button-link">Tee Times</body></a>
    <a href="/golfers_has_tee_times" class="button-link">Golfers with Tee Times</body></a>
</nav>
    </section>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <section>
{{!-- Create a table --}}
<table id="sales-table">

    {{!-- Header section --}}
    <thead>

        
        <tr>
            {{#each data.[0]}}
            <th>
                {{@key}}
            </th>
            {{/each}}
        </tr>
    </thead>

    {{!-- Body section --}}
    <tbody>

        
        {{#each data}}
        <tr data-value={{this.sale_id}}>  
            <td>{{this.Sale}}</td>
            <td>{{this.First}}</td>
            <td>{{this.Last}}</td>
            <td>{{this.Price}}</td>
            <td>{{this.Date_of_Sale}}</td>
            <td>{{this.Employee}}</td>
        </tr>
        {{/each}}
    </tbody>
</table>
    </section>

<fieldset>
{{!-- Form to add a record to the table  --}}
<h2>Add a New Sale</h2>
<p>To add a new sale, please enter the information below and click 'Submit Sale'!</p>
<form id="add-sale-form-ajax">

    <label for="input-golfer_id">Golfer: </label>
    <select name="input-golfer_id" id="input-golfer_id">
        <option value="test">Select a Golfer</option>
        {{#each Golfers}}
        <option value="{{this.golfer_id}}">{{this.first_name}} {{this.last_name}}</option>
        {{/each}}
    </select>

    <label for="input-price">Price: </label>
    <input type="number" step="0.01" name="input-price" id="input-price">

    <label for="input-sale_date">Date of Sale: </label>
    <input type="datetime-local" name="input-sale_date" id="input-sale_date">

    <label for="input-employee_id">Employee: </label>
    <select name="input-employee_id" id="input-employee_id">
        <option value="test">Select an Employee</option>
        {{#each Employees}}
        <option value="{{this.employee_id}}">{{this.first_name}} {{this.last_name}}</option>
        {{/each}}
    </select>

    <input type="submit">
</form>
<script src="./js/add_sale.js"></script>
</fieldset>

<fieldset>
<h2>Update A Sales Information</h2>
<p>To update a specific sale</p>
<form id="update-sale-form-ajax">

    <label for="input-sale_id">Sale ID: </label>
    <select name="input-sale_id" id="saleSelect">
        <option value="test">Select a Sale</option>
        {{#each data}}
        <option value="{{this.Sale}}">{{this.Sale}}</option>
        {{/each}}
    </select>

    <label for="input-price">Price: </label>
    <input type="number" step="0.01" name="input-price" id="input-price-update">

    <label for="input-employee_id">Employee: </label>
    <select name="input-employee_id" id="input-employee_id-update">
        <option value="test">Select an Employee or NULL</option>
        <option value="NULL">NULL</option>
        {{#each Employees}}
        <option value="{{this.employee_id}}">{{this.first_name}} {{this.last_name}}</option>
        {{/each}}
    </select>

    <input type="submit">
</form>

<script src="./js/update_sale.js"></script>
</fieldset>



